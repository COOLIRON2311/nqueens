# Задание 2.3 по дисциплине "Интеллектуальные системы"
Задача о расстановке ферзей на шахматной доске. Алгоритмы: BFS, DFS, IDS, генетический алгоритм, алгоритм эмуляции отжига.

![](imgs/1.jpg)

*Зада́ча о восьми́ фе́рзя́х — широко известная комбинаторная задача по расстановке фигур на шахматной доске. Исходная формулировка: «Расставить на стандартной 64-клеточной шахматной доске 8 ферзей так, чтобы ни один из них не находился под боем другого». Подразумевается, что ферзь бьёт все клетки, расположенные по вертикалям, горизонталям и обеим диагоналям.*

*Обобщение задачи — расставить таким же образом ферзей на произвольном прямоугольном поле, в частности, квадратном со стороной n.*

# Результаты работы приложения

Алгоритм поиска в ширину не эффективен для решения этой задачи, так как у неё нет "оптимального" решения. Вместо этого, все решения (правильные расстановки ферзей) находятся на глубине N.
```bash
.\tests.exe --benchmark-samples 1
Randomness seeded to: 4028054280

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
tests is a Catch2 v3.1.0 host application.
Run with -? for options

-------------------------------------------------------------------------------
Breadth-first search
-------------------------------------------------------------------------------
tests.cpp:20
...............................................................................

benchmark name                       samples       iterations    estimated
                                     mean          low mean      high mean
                                     std dev       low std dev   high std dev
-------------------------------------------------------------------------------
4x4                                              1             4     60.428 us
                                        19.6887 us    19.6887 us    19.6887 us
                                              0 ns          0 ns          0 ns

6x6                                              1             1    271.855 us
                                        323.755 us    323.755 us    323.755 us
                                              0 ns          0 ns          0 ns

8x8                                              1             1    5.95273 ms
                                        5.98346 ms    5.98346 ms    5.98346 ms
                                              0 ns          0 ns          0 ns

10x10                                            1             1    164.536 ms
                                        157.987 ms    157.987 ms    157.987 ms
                                              0 ns          0 ns          0 ns
```
Поиск в глубину и его итеративный вариант больше подходят для решения задачи, так как они быстрее достигают требуемой глубины.
```
-------------------------------------------------------------------------------
Depth-first search
-------------------------------------------------------------------------------
tests.cpp:70
...............................................................................

benchmark name                       samples       iterations    estimated
                                     mean          low mean      high mean
                                     std dev       low std dev   high std dev
-------------------------------------------------------------------------------
4x4                                              1             6      48.48 us
                                        10.2425 us    10.2425 us    10.2425 us
                                              0 ns          0 ns          0 ns

6x6                                              1             1     63.008 us
                                         80.155 us     80.155 us     80.155 us
                                              0 ns          0 ns          0 ns

8x8                                              1             1    370.612 us
                                        400.455 us    400.455 us    400.455 us
                                              0 ns          0 ns          0 ns

10x10                                            1             1    461.949 us
                                        462.655 us    462.655 us    462.655 us
                                              0 ns          0 ns          0 ns

12x12                                            1             1    1.64551 ms
                                        1.66626 ms    1.66626 ms    1.66626 ms
                                              0 ns          0 ns          0 ns

14x14                                            1             1    17.7711 ms
                                        17.2917 ms    17.2917 ms    17.2917 ms
                                              0 ns          0 ns          0 ns

16x16                                            1             1    128.862 ms
                                        124.467 ms    124.467 ms    124.467 ms
                                              0 ns          0 ns          0 ns

18x18                                            1             1    677.597 ms
                                        670.495 ms    670.495 ms    670.495 ms
                                              0 ns          0 ns          0 ns


-------------------------------------------------------------------------------
Iterative deepening search
-------------------------------------------------------------------------------
tests.cpp:157
...............................................................................

benchmark name                       samples       iterations    estimated
                                     mean          low mean      high mean
                                     std dev       low std dev   high std dev
-------------------------------------------------------------------------------
4x4                                              1             2     51.662 us
                                        35.1275 us    35.1275 us    35.1275 us
                                              0 ns          0 ns          0 ns

6x6                                              1             1    473.955 us
                                        505.455 us    505.455 us    505.455 us
                                              0 ns          0 ns          0 ns

8x8                                              1             1    11.8112 ms
                                        11.6091 ms    11.6091 ms    11.6091 ms
                                              0 ns          0 ns          0 ns

10x10                                            1             1    356.388 ms
                                        350.523 ms    350.523 ms    350.523 ms
                                              0 ns          0 ns          0 ns
```
Для генетического алгортима выбраны не совсем удачные функции мутации и скрещивания, что снижает его эффективность.
```
-------------------------------------------------------------------------------
Genetic algorithm
-------------------------------------------------------------------------------
tests.cpp:208
...............................................................................

benchmark name                       samples       iterations    estimated
                                     mean          low mean      high mean
                                     std dev       low std dev   high std dev
-------------------------------------------------------------------------------
4x4                                              1             1    153.202 us
                                        183.455 us    183.455 us    183.455 us
                                              0 ns          0 ns          0 ns

6x6                                              1             1    355.442 us
                                        394.555 us    394.555 us    394.555 us
                                              0 ns          0 ns          0 ns

8x8                                              1             1    205.028 ms
                                        62.4909 ms    62.4909 ms    62.4909 ms
                                              0 ns          0 ns          0 ns

10x10                                            1             1    213.626 ms
                                        206.885 ms    206.885 ms    206.885 ms
                                              0 ns          0 ns          0 ns
```
Алгоритм имитации отжига позволяет добиться наибольшей эффективности за счет быстрой сходимости.
Параметры системы:
```c++
#define TEMP 4000 // Temperature for simulated annealing
#define COOLING 0.99 // Cooling rate for simulated annealing
```
```
-------------------------------------------------------------------------------
Simulated annealing
-------------------------------------------------------------------------------
tests.cpp:248
...............................................................................

benchmark name                       samples       iterations    estimated
                                     mean          low mean      high mean
                                     std dev       low std dev   high std dev
-------------------------------------------------------------------------------
4x4                                              1           105      46.62 us
                                         547.19 ns     547.19 ns     547.19 ns
                                              0 ns          0 ns          0 ns

6x6                                              1            23     47.771 us
                                        5.95457 us    5.95457 us    5.95457 us
                                              0 ns          0 ns          0 ns

8x8                                              1            29     48.169 us
                                         2.2019 us     2.2019 us     2.2019 us
                                              0 ns          0 ns          0 ns

16x16                                            1             1     81.626 us
                                        245.355 us    245.355 us    245.355 us
                                              0 ns          0 ns          0 ns

32x32                                            1             1    636.198 us
                                        669.155 us    669.155 us    669.155 us
                                              0 ns          0 ns          0 ns

64x64                                            1             1    934.491 us
                                        1.03336 ms    1.03336 ms    1.03336 ms
                                              0 ns          0 ns          0 ns

128x128                                          1             1    7.89033 ms
                                        8.04655 ms    8.04655 ms    8.04655 ms
                                              0 ns          0 ns          0 ns

256x256                                          1             1    128.146 ms
                                        79.2942 ms    79.2942 ms    79.2942 ms
                                              0 ns          0 ns          0 ns

512x512                                          1             1    821.862 ms
                                        854.158 ms    854.158 ms    854.158 ms
                                              0 ns          0 ns          0 ns


===============================================================================
All tests passed (90 assertions in 7 test cases)
```
